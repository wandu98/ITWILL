<!DOCTYPE html>
<html lang="ko">                 
    <head>      
        <meta charset="UTF-8">                 
        <title>04_ê³„ì‚°ê¸°.html</title> 
        <style>
            .txt{
                border: 2px solid #ccffff;
                text-align: right;
                font-weight: bold;
                font-size: 20px;
                color: black;
                height: 30px;
                background-color: #e0ebeb;
            }
        </style>
    </head>
    <body>                       

        <h3>ë¯¸ë‹ˆ ê³„ì‚°ê¸°</h3>

        <form>
            <table border="1"> 
            <tr>
                <td colspan="4">
                    <input type="text" name="result" id="result" size="20" value="0" readonly class="txt">
                </td>
            </tr>
            <tr>
                
                <td><input type="button" value="    7    " onclick="inputData(7)"></td>
                <td><input type="button" value="    8    " onclick="inputData(8)"></td>
                <td><input type="button" value="    9    " onclick="inputData(9)"></td>
                <td><input type="button" value="    â—   " onclick="operator('/')" ></td>
            </tr>
            <tr>
                
                <td><input type="button" value="    4    " onclick="inputData(4)"></td>
                <td><input type="button" value="    5    " onclick="inputData(5)"></td>
                <td><input type="button" value="    6    " onclick="inputData(6)"></td>
                <td><input type="button" value="    âœ–ï¸    " onclick="operator('*')"></td>
            </tr>
            <tr>
                <td><input type="button" value="    1    " onclick="inputData(1)"></td>
                <td><input type="button" value="    2    " onclick="inputData(2)"></td>
                <td><input type="button" value="    3    " onclick="inputData(3)"></td>
                <td><input type="button" value="    â–   " onclick="operator('-')"></td>
            </tr>
            <tr>
                <td><input type="button" value="    0    " onclick="inputData(0)"></td>
                <td><input type="button" value="    .    "></td>
                <td><input type="button" value="    ğŸŸ°   " onclick="compute()"></td>
                <td><input type="button" value="    â•   " onclick="operator('+')"></td>
            </tr>
            <tr>
                <td colspan="2">
                    <input type="button" value="    ğŸ”š   " onclick="backspace()">
                </td>
                <td colspan="2">
                    <input type="button" value="    C   " onclick="cls()">
                </td>
            </tr>
            </table>
        </form>

        
        <script>
            //1) C ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ id=resultì— 0ì„ ëŒ€ì…
            function cls(){
                document.getElementById("result").value = 0;
            }//cls() end

            //2) í´ë¦­í•œ ìˆ«ì ë²„íŠ¼ì— ë§ëŠ” ìˆ«ìë¥¼ ì¶œë ¥í•˜ê¸°
            function inputData(su){
                //alert(su);
                //ì „ë‹¬ë°›ì€ suë³€ìˆ˜ê°’ì„ id=resultì— ëŒ€ì…
                //document.getElementById("result").value += su;

                //id=resultê°’ì„ ìˆ«ìí˜•ìœ¼ë¡œ ë³€í™˜("0123"->123)
                document.getElementById("result").value = Number(document.getElementById("result").value += su);
            }//inputData() end

            //3 ì—°ì‚°ì— í•„ìš”í•œ ì „ì—­ë³€ìˆ˜ ì„ ì–¸í•˜ê¸°
            let op;     //ì—°ì‚°ê¸°í˜¸
            let num1;   //ì‚¬ìš©ì ì…ë ¥í•œ ì²«ë²ˆì§¸ ìˆ˜
            let num2;   //ì‚¬ìš©ì ì…ë ¥í•œ ë‘ë²ˆì§¸ ìˆ˜
            
            function operator(kind){
                //4)í´ë¦­í•œ ì—°ì‚°ê¸°í˜¸ë¥¼ ì „ì—­ë³€ìˆ˜ opì— ì €ì¥í•˜ê¸°
                //alert(kind);
                op=kind;

                //5)í˜„ì¬ id=resultê°€ ê°€ì§€ê³  ìˆëŠ” ê°’ì„ num1ì— ì €ì¥í•˜ê¸°
                num1=Number(document.getElementById("result").value);

                //6)ë‘ë²ˆì§¸ ìˆ˜ë¥¼ ì…ë ¥ë°›ê¸° ìœ„í•´ id=resultê°’ì„ ì´ˆê¸°í™”í•˜ê¸°
                cls();

            }//operator() end

            //ì°¸ì¡° https://www.w3schools.com/jsref/jsref_eval.asp
            function compute(){
                //ì‹¤ì œ ê³„ì‚°ì„ í•´ì„œ ê²°ê³¼ê°’ ì¶œë ¥í•˜ê¸°
                //7)ê³„ì‚°ì— í•„ìš”í•œ ë‘ë²ˆì§¸ ìˆ˜ë¥¼ nm2ì— ì €ì¥í•˜ê¸°
                num2=Number(document.getElementById("result").value);

                //8)ê³„ì‚°í•´ì„œ ê²°ê³¼ ì¶œë ¥í•˜ê¸°
                document.getElementById("result").value = eval(num1 + op + num2);

            }//compute() end

            //9) ğŸ”š ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ id=resultê°’ì—ì„œ ë§ˆì§€ë§‰ ê¸€ìë¶€í„° ìˆœì„œëŒ€ë¡œ ì§€ìš°ê¸°
            //  id=resultê°’ì—ì„œ ë§ˆì§€ë§‰ ê¸€ìë§Œ ì œì™¸ì‹œí‚¤ê³  ë‹¤ì‹œ ëŒ€ì…
            //  ë‹¨, ìë¦¿ìˆ˜ê°€ í•œê°œì¸ ê°’ì€ 0ìœ¼ë¡œ ëŒ€ì…
            function backspace(){
                //let cv = document.getElementById("result").value; 
                //document.getElementById("result").value = cv.slice(0, cv.length-1);
                
                //a)id=resultê°’ì„ ê°€ì ¸ì™€ì„œ ê¸€ìê°¯ìˆ˜ ì¶œë ¥í•˜ê¸°
                let result=document.getElementById("result").value;
                //alert(result);
                //alert(result.length);

                //b)ì²˜ìŒê¸€ìë¶€í„° ë§ˆì§€ë§‰ ê¸€ìë¥¼ ì œì™¸ì‹œí‚¤ê³  ë¬¸ìì—´ ê°€ì ¸ì˜¤ê¸°(substring()) ì¤‘ìš”í•¨ìˆ˜
                let len=result.length;
                //alert(result.substring(0, len-1));

                //c)ë¶„ë¦¬ëœ b)ë¬¸ìì—´ì„ ë‹¤ì‹œ id=resultì— ëŒ€ì…í•˜ê¸°
                //  ë‹¨, ê¸€ìê°¯ìˆ˜ê°€ 1ê°œì´ë©´  0ìœ¼ë¡œ ë‹¤ì‹œ ëŒ€ì…
                if(len==1){
                    document.getElementById("result").value=0;
                }else{
                    document.getElementById("result").value=result.substring(0, len-1)
                }//if end

                }//backspace() end
        </script>
        
    </body>                      
</html>